{"componentChunkName":"component---src-templates-blog-js","path":"/85. 最大矩形/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"题目\" style=\"position:relative;\"><a href=\"#%E9%A2%98%E7%9B%AE\" aria-label=\"题目 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%E9%A2%98%E7%9B%AE\" aria-label=\"题目 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>题目</h2>\n<p>给定一个仅包含 0 和 1 、大小为 rows x cols 的二维二进制矩阵，找出只包含 1 的最大矩形，并返回其面积。</p>\n<h3 id=\"示例-1：\" style=\"position:relative;\"><a href=\"#%E7%A4%BA%E4%BE%8B-1%EF%BC%9A\" aria-label=\"示例 1： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%E7%A4%BA%E4%BE%8B-1%EF%BC%9A\" aria-label=\"示例 1： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>示例 1：</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 417px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/ct-blog/static/f48d32095e11732daeaf7738f92b96ec/f27fb/85-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.11392405063292%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1UlEQVQ4y01UiXKiQBT0/39mK5Vjs7uVjRtjPBJFEBFB8EAUuRQUj0Srt3oIJlNFFa9mpl+/fv2mNBqN4Ps+oiiCruswTRNhGCKOY/R6Pdi2LWKe6Xa7mEwm4ixjRVHguq44O5/P4TgOSrvdDuv1GsvlEmmaYr/fXzZ58HQ6YTabIcsyAcLFxKvVStzhYqLtditwSgRYLBYYDocC8Hg8QpIk1Ot1JEkiAPv9vmAZBIEAuL+/vzDnurq6gud54n6JbJidTMfjsSihiJnEWyxE9mybYTAYiHJFnGWCKZMyJhjvlqghSyNdMqGG/N9sUnRkBZWWiY4ZQDJ93D62UFMmUOwIkuHjZ7mNV81F147Q6LlQ+qO8ZJZCzTabDQ6HAyzLhmEMEIQx+u4Bf+oGWmaMF3WOgXfCXUWFPN6g2nVhLM+4KXegTPcwplHeFJYxnU4vGmqaBlnuIIxW6Lt7PDRNtIwQNZUAJ/x60SCPE7yoLkz/jLsnBco0g+lEKBGo0IHlUkcy3e0ydFUNFWmM9nCF9jDG7T8Zz4qDlhnhdRDgpiyh0fcgWTFqmoeOPvkCJAibQEAyZax+AraGcQ74pKCqOHgzcsDrxxyQezVtmQNSs8I2BGHJtMR87sIPIujzI+4qXTT1JeqaJ0q8emihY69RVWYi/vG78VUyNSSj78YOwjA3rh9Ccw+oyFNI9hq13kI05fHNgjLZ4ll2RFMemgYU57MptA2b8t02BGNM2zy1TLTNAG3Dx225jao8Rtv08aZ7uP77imZvBtkKUe+5kGkbGrswKvUrxoxMKcPC84QUWbaDrg8E+yRNkaYbQWC9pv5bJMmnsakhPcjNQsPvo3c+n1GpVKCqqhgArmajgTRJLrPM0Vsu88QlsqOORZlkxkzsPgE+Pj5gWZa4zAFgAv6/v7+LR4SLr87lceDFQkOWSE3JjA3i7Ba24scqCMLkvMMBKJpZTNt/SpuUtaEIVCIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"85 01\"\n        title=\"85 01\"\n        src=\"/ct-blog/static/f48d32095e11732daeaf7738f92b96ec/f27fb/85-01.png\"\n        srcset=\"/ct-blog/static/f48d32095e11732daeaf7738f92b96ec/c26ae/85-01.png 158w,\n/ct-blog/static/f48d32095e11732daeaf7738f92b96ec/6bdcf/85-01.png 315w,\n/ct-blog/static/f48d32095e11732daeaf7738f92b96ec/f27fb/85-01.png 417w\"\n        sizes=\"(max-width: 417px) 100vw, 417px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n输入：matrix = [[“1”,“0”,“1”,“0”,“0”],[“1”,“0”,“1”,“1”,“1”],[“1”,“1”,“1”,“1”,“1”],[“1”,“0”,“0”,“1”,“0”]]\n输出：6\n解释：最大矩形如上图所示。</p>\n<h3 id=\"示例-2：\" style=\"position:relative;\"><a href=\"#%E7%A4%BA%E4%BE%8B-2%EF%BC%9A\" aria-label=\"示例 2： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%E7%A4%BA%E4%BE%8B-2%EF%BC%9A\" aria-label=\"示例 2： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>示例 2：</h3>\n<p>输入：matrix = []\n输出：0</p>\n<h3 id=\"示例-3：\" style=\"position:relative;\"><a href=\"#%E7%A4%BA%E4%BE%8B-3%EF%BC%9A\" aria-label=\"示例 3： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%E7%A4%BA%E4%BE%8B-3%EF%BC%9A\" aria-label=\"示例 3： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>示例 3：</h3>\n<p>输入：matrix = [[“0”]]\n输出：0</p>\n<h3 id=\"示例-4：\" style=\"position:relative;\"><a href=\"#%E7%A4%BA%E4%BE%8B-4%EF%BC%9A\" aria-label=\"示例 4： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%E7%A4%BA%E4%BE%8B-4%EF%BC%9A\" aria-label=\"示例 4： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>示例 4：</h3>\n<p>输入：matrix = [[“1”]]\n输出：1</p>\n<h3 id=\"示例-5：\" style=\"position:relative;\"><a href=\"#%E7%A4%BA%E4%BE%8B-5%EF%BC%9A\" aria-label=\"示例 5： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%E7%A4%BA%E4%BE%8B-5%EF%BC%9A\" aria-label=\"示例 5： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>示例 5：</h3>\n<p>输入：matrix = [[“0”,“0”]]\n输出：0\n </p>\n<p>提示：</p>\n<p>rows == matrix.length\ncols == matrix[0].length\n0 &#x3C;= row, cols &#x3C;= 200\nmatrix[i][j] 为 ‘0’ 或 ‘1’</p>\n<p><a href=\"https://leetcode-cn.com/problems/maximal-rectangle\">来源：力扣（LeetCode）</a></p>\n<h2 id=\"解题\" style=\"position:relative;\"><a href=\"#%E8%A7%A3%E9%A2%98\" aria-label=\"解题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%E8%A7%A3%E9%A2%98\" aria-label=\"解题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解题</h2>\n<h3 id=\"slsay-104ms\" style=\"position:relative;\"><a href=\"#slsay-104ms\" aria-label=\"slsay 104ms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#slsay-104ms\" aria-label=\"slsay 104ms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>slsay 104ms</h3>\n<deckgo-highlight-code js  terminal=\"carbon\" line-numbers=\"true\"  highlight-lines=\"\">\n          <code slot=\"code\">/**\n * @param {character[][]} matrix\n * @return {number}\n */\nvar maximalRectangle = function(matrix) {\n    const largestRectangleArea = (heights) =&gt; {\n        let maxArea = 0\n        const stack = []\n        heights = [0, ...heights, 0]         \n        for (let i = 0; i &lt; heights.length; i++) { \n            while (heights[i] &lt; heights[stack[stack.length - 1]]) {\n            const stackTopIndex = stack.pop()\n            maxArea = Math.max(\n                maxArea,\n                heights[stackTopIndex] * (i - stack[stack.length - 1] - 1)\n            )\n            }\n            stack.push(i) \n        }\n        return maxArea\n    }\n\n    let result = 0;\n    for (let i = 0, len = matrix.length; i &lt; len; i ++) {\n      for(let j = 0, jLen = matrix[i].length; j &lt; jLen; j++) {\n         matrix[i][j] = matrix[i-1] &amp;&amp; matrix[i][j] &gt; 0 ? (matrix[i-1][j] + (+matrix[i][j])) : +matrix[i][j];\n      }\n      result = Math.max(result, largestRectangleArea(matrix[i]));\n    }\n    return result;\n\n};</code>\n        </deckgo-highlight-code>\n<h3 id=\"xiaozhouzhou-216ms\" style=\"position:relative;\"><a href=\"#xiaozhouzhou-216ms\" aria-label=\"xiaozhouzhou 216ms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#xiaozhouzhou-216ms\" aria-label=\"xiaozhouzhou 216ms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>xiaozhouzhou 216ms</h3>\n<deckgo-highlight-code js  terminal=\"carbon\" line-numbers=\"true\"  highlight-lines=\"\">\n          <code slot=\"code\">    /**\n * @param {character[][]} matrix\n * @return {number}\n */\nvar handleStack  = function(heights,stack,height,heigthIndex,max) {\n    if(heights[stack[stack.length -1]] &gt; height) {\n        var popT = stack.pop();\n        max.value = max.value &lt; heights[popT] * (heigthIndex - stack[stack.length -1] -1) ? heights[popT] * (heigthIndex - stack[stack.length -1] -1) : max.value;\n        handleStack(heights,stack,height,heigthIndex,max);\n    }else {\n        stack.push(heigthIndex);\n    }\n} \nvar largestRectangleArea = function(heights) {\n    heights =  [0,...heights,0];\n    var stack = [];\n    var max = {value:0};\n    for(var index in heights) {\n        if(stack.length == 0) {\n            stack.push(index);\n        }else {\n            handleStack(heights,stack,heights[index],index,max);\n        }\n    }\n    return max.value;\n};\nvar maximalRectangle = function(matrix) {\n    var height = [];\n    var max =0;\n    if(matrix.length &gt; 0) {\n        height = new Array(matrix[0].length).fill(0);\n        for(var i = 0 ;i&lt; matrix.length ;i++) {\n            for(var j = 0 ;j&lt; matrix[i].length ;j++) {\n                if(matrix[i][j] == 0) {\n                    height[j] = 0;\n                }else  {\n                    height[j] ++;\n                }\n            }\n            console.log(height);\n            var temp = largestRectangleArea(height);\n            max = temp &gt; max ? temp :max;\n        }\n    }\n    return max;\n};</code>\n        </deckgo-highlight-code>\n<h3 id=\"dutlyuyu\" style=\"position:relative;\"><a href=\"#dutlyuyu\" aria-label=\"dutlyuyu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#dutlyuyu\" aria-label=\"dutlyuyu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dutLyuyu</h3>\n<deckgo-highlight-code js  terminal=\"carbon\" line-numbers=\"true\"  highlight-lines=\"\">\n          <code slot=\"code\">const IncreStack = {\n    val: [],\n    // 空栈栈顶和pop 结果返回undefined\n    top: function(){\n        return this.val[this.val.length - 1];\n    },\n    pop: function(){\n        return this.val.pop();\n    }\n};\n\n/**\n * @param {number[]} heights\n * @return {number}\n */\nvar largestRectangleArea = function(heights) {\n    let re = 0;\n\n    // 矩阵后各添加一个height为0的矩阵\n    // increStrack 存的是index\n    // 但是单调栈维护 以heights为准\n    const increStack = Object.create(IncreStack);\n    heights.push(0);\n\n    const updateResult = (comingIndex) =&gt; {\n        const cur = increStack.pop();\n        // 栈里面前一个数、也就是下一个栈顶\n        let pre = increStack.top() === undefined ? - 1 : increStack.top();\n        let tmp = (comingIndex - pre - 1) * heights[cur];\n        re = re &gt; tmp ? re : tmp;\n        return pre;\n    };\n\n    increStack.val = [0];\n    for(let i = 1; i &lt; heights.length; i++){\n        let top = increStack.top();\n        while(heights[i] &lt; heights[top]){\n            top = updateResult(i);\n        }\n        if(top === -1 || heights[i] &gt; heights[top]){\n            increStack.val.push(i);\n        }else if(heights[i] === heights[top]){\n            // !!\n            increStack.val[increStack.val.length - 1] = i;\n        }\n    }\n    return re;\n};\n\n/**\n * @param {string[][]} matrix\n * @return {number}\n */\nvar maximalRectangle = function(matrix) {\n    if(matrix.length &lt; 1 ){\n        return 0;\n    }\n    const iMax = matrix.length;\n    const jMax = matrix[0].length\n    let re = 0;\n    for(let i = 0; i &lt; iMax; i++){\n        for(let j = 0; j &lt; jMax; j++){\n            if(i === 0){\n                matrix[i][j] = +matrix[i][j];\n            }else {\n                if(matrix[i][j] === &quot;0&quot;){\n                    matrix[i][j] = 0;\n                } else {\n                    matrix[i][j] = (+matrix[i][j]) + matrix[i-1][j];\n                }\n            }\n\n        }\n        let tmp = largestRectangleArea(matrix[i]);\n        re = re &gt; tmp? re : tmp;\n    }\n    return re;\n};</code>\n        </deckgo-highlight-code>\n<h3 id=\"kojo-jotaro-168ms\" style=\"position:relative;\"><a href=\"#kojo-jotaro-168ms\" aria-label=\"kojo jotaro 168ms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#kojo-jotaro-168ms\" aria-label=\"kojo jotaro 168ms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>kojo-jotaro 168ms</h3>\n<deckgo-highlight-code js  terminal=\"carbon\" line-numbers=\"true\"  highlight-lines=\"\">\n          <code slot=\"code\">/**\n * @param {character[][]} matrix\n * @return {number}\n */\nvar maximalRectangle = function(matrix) {\n    let content = new Array();\n    for(let i =0;i&lt;matrix.length;i++){\n        content[i] = new Array();\n        for(let j=0;j&lt;matrix[0].length;j++){\n            content[i][j]=matrix[i][j]===&#39;1&#39;?true:false;\n        }\n    }\n    let result =0;\n    for(let i=0;i&lt;matrix.length;i++){\n        let j=i;\n        let mid = content[i];\n        while(j&lt;matrix.length){\n            for(let a=0;a&lt;mid.length;a++){\n                mid[a] = mid[a] &amp;&amp; content[j][a];\n            }\n\n            if(!mid.includes(true)) break;\n\n            let width = 0;\n            let cur = mid.concat();\n            while(cur.includes(true)){\n                width++;\n                for(let a=0;a&lt; cur.length;a++){\n                    cur[a]=cur[a]&amp;&amp;cur[a+1];\n                }\n            }\n            midResult = width*(j-i+1);\n            result = Math.max(result,midResult)\n            j++;\n        }\n    }\n    return result;\n};</code>\n        </deckgo-highlight-code>","frontmatter":{"title":"85. 最大矩形","date":"2021-02-26","tag":"矩形","type":null},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E9%A2%98%E7%9B%AE\">题目</a></p>\n<ul>\n<li><a href=\"#%E7%A4%BA%E4%BE%8B-1%EF%BC%9A\">示例 1：</a></li>\n<li><a href=\"#%E7%A4%BA%E4%BE%8B-2%EF%BC%9A\">示例 2：</a></li>\n<li><a href=\"#%E7%A4%BA%E4%BE%8B-3%EF%BC%9A\">示例 3：</a></li>\n<li><a href=\"#%E7%A4%BA%E4%BE%8B-4%EF%BC%9A\">示例 4：</a></li>\n<li><a href=\"#%E7%A4%BA%E4%BE%8B-5%EF%BC%9A\">示例 5：</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E8%A7%A3%E9%A2%98\">解题</a></p>\n<ul>\n<li><a href=\"#slsay-104ms\">slsay 104ms</a></li>\n<li><a href=\"#xiaozhouzhou-216ms\">xiaozhouzhou 216ms</a></li>\n<li><a href=\"#dutlyuyu\">dutLyuyu</a></li>\n<li><a href=\"#kojo-jotaro-168ms\">kojo-jotaro 168ms</a></li>\n</ul>\n</li>\n</ul>","id":"094ef8e5-f459-53a2-baca-3b3e55b4d9b5"}},"pageContext":{"slug":"/85. 最大矩形/"}},"staticQueryHashes":["3159585216","3810076356"]}