---
date: "2021-04-24"
---
### 3．1　神秘命名（Mysterious Name）

重构手法：
* 改变函数声明
* 变量改名
* 字段改名

### 3．2　重复代码（Duplicated Code）

重构手法：
* 提炼函数
* 移动语句
* 函数上移

### 3．3　过长函数（Long Function）

重构手法：
* 提炼函数
* 引入参数对象
* 保持对象完整
* 以命令取代函数
* 以多态取代条件表达式

### 3．4　过长参数列表（Long Parameter List）

重构手法：
* 查询取代参数
* 保持对象完整
* 引入参数对象
* 移除标记参数
* 函数组合成类

### 3．5　全局数据（Global Data）

重构手法：
* 封装变量

### 3．6　可变数据（Mutable Data）

重构手法：
* 封装变量
* 提炼函数
* 移动语句
* 拆分变量
* 查询函数和修改函数分离
* 移除设值函数
* 以查询取代派生变量
* 函数组合成类
* 函数组合成变换


### 3．7　发散式变化（Divergent Change）
### 3．8　霰弹式修改（Shotgun Surgery）
### 3．9　依恋情结（Feature Envy）
### 3．10　数据泥团（Data Clumps）  

常常在很多地方看见相同的三四项数据：两个类中相同的字段，许多函数中相同的参数

重构手法：
* 提炼类
* 引入参数列表对象
* 保持对象完整

### 3．11　基本类型偏执（Primitive Obsession） 

重构手法：
* 以对象取代基本类型
* 以子类取代类型码
* 以多态取代条件表达式

### 3．12　重复的switch（Repeated Switches） 

重构手法：
* 以多态取代条件表达式

### 3．13　循环语句（Loops） 

重构手法：
* 以管道取代循环

### 3．14　冗赘的元素（Lazy Element） 

重构手法：
* 内联函数
* 内联类
* 折叠继承体系


### 3．15　夸夸其谈通用性（Speculative Generality） 
> 噢，我想我们总有一天需要做这事。 
如果用不到，就不值得。

### 3．16　临时字段（Temporary Field） 

重构手法：
* 提炼类
* 搬移函数
* 引入特例

### 3．17　过长的消息链（Message Chains） 

重构手法：
* 隐藏委托关系
* 搬移函数
* 提炼函数

### 3．18　中间人（Middle Man）

重构手法：
* 移除中间人
* 以委托取代超类
* 以委托取代子类

### 3．19　内幕交易（Insider Trading） 
开发者喜欢在模块之间建起高墙，极其反感在模块之间大量交换数据，在实际情况下，一定的数据交换不可避免。

重构手法：
* 搬移函数
* 搬移字段
* 隐藏委托关系
* 以委托取代子类

### 3．20　过大的类（Large Class）  

重构手法：
* 提炼类
* 提炼超类
* 以子类取代类型码

### 3．21　异曲同工的类（Alternative Classes with Different Interfaces）

重构手法：
* 改变函数声明
* 搬移函数
* 提炼超类

### 3．22　纯数据类（Data Class）

重构手法：
* 封装记录
* 移除设值函数
* 移除函数
* 提炼函数

### 3．23　被拒绝的遗赠（Refused Bequest） 

重构手法：
* 函数下移
* 字段下移

### 3．24　注释（Comments）
> 当你感觉需要撰写注释时，请先尝试重构，试着让所有注释都变得多余。
